(function(){var h=document,g=window;function j(m){var n=h.createElement("div"),k=h.createDocumentFragment();n.innerHTML=m;for(var l=0,o;o=n.childNodes[l];l++){k.appendChild(o)}return k}function i(k){return k.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2")}function e(l,m){for(var k in m){var n=m[k];if(k=="attributes"||k=="children"||k=="data"){continue}if(typeof l[k]=="object"){e(l[k],n)}else{try{l[k]=n}catch(o){}}}}function a(m,l){if(typeof m=="object"||typeof m=="array"){for(var k in m){m[k]=a(m[k],l)}return m}else{if(typeof m=="string"){var o=/#{([^{}]*)}/g,n=o.exec(m);if(n&&m.replace(/^\s+|\s+$/g,"")==n[0]&&l[n[1]]){return l[n[1]]}return m.replace(o,function(q,p){var s=l[p];return typeof s==="string"||typeof s==="number"?s:q})}}}function b(k,n){if(!n){return k}var l=k.parentNode,m=k.nextSibling;n=n.nodeType===11?n.firstChild:n;n.appendChild(k);if(l){l.insertBefore(n,m)}return n}function c(l,n){if(!l){return null}if(l instanceof Array){n=n||h.createDocumentFragment();for(var m=0,o;o=l[m];m++){n.appendChild(c(o))}return n}if(typeof l=="string"){return j(l)}if(typeof l=="object"){var p=l.nodeName||l.tagName||"div";n=n||l.element||h.createElement(p);for(var k in l.attributes){n.setAttribute(i(k),l.attributes[k])}for(var k in l.data){n.setAttribute("data-"+i(k),l.data[k])}c(l.children,n);e(n,l);n=b(n,c(l.wrapper));return n}}function d(){this.render=function(l,k,m){a(l,k);return c(l,m)}}var f=new d();g.mugen=g.mugen||f;return f})();