(function(){var e=document,H=window,r="div",g="wrap",f="push",v="join",m="data",x="split",o="object",K="string",O="replace",F="element",u="nodeType",L="innerHTML",s="attributes",k="childNodes",l="parentNode",y="firstChild",t="appendChild",G="insertBefore",E="replaceChild",z="setAttribute",N="createElement",a="data-variable",d="querySelectorAll",J="createDocumentFragment",C={start:"#{",end:"}",buffer:""},c={start:"<%",end:"%>",buffer:"="},n=(function(){var P={};return function(W,U,S){S=S||{};for(var R in A){U["_"+R]=(function(X,Y){return function(){X._data=Y;var Z=X.apply(this,arguments);delete X._data;return Z}})(A[R],U)}var V=S.tokens||c;var T=P[W]=P[W]||new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+W[O](/[\r\t\n]/g," ")[x](V.start)[v]("\t")[O](new RegExp("\\(\\(\\^\\|"+V.end+"\\)\\[\\^\t\\]\\*\\)","g"),"$1\r")[O](new RegExp("\t"+V.buffer+"(.*?)"+V.end,"g"),"',$1,'")[x]("\t")[v]("');")[x](V.end)[v]("p.push('")[x]("\r")[v]("\\'")+"');} p = p.filter(function(v) {return typeof v == 'string' ? v.replace(/^s+|s+$/g, '').length : true});for (var i = 0; i < p.length; i++) { var o = p[i]; if (o && o.outerHTML) p[i] = o.outerHTML; }return p.length > 1 ? p.join('') : typeof p[0] == 'undefined' ? '' : p[0];");var Q=U?T(U):T;for(var R in A){delete U["_"+R]}return Q}})();function q(ad,U,ae){ae=ae||{};var S=i(U);for(var R in S){var ac=S[R];ac[u]?ac[z](a,R):null}var V=n(ad,U,ae);var af=h(V);var Y=af[d]("*["+a+"]");var Y=af.querySelectorAll("*["+a+"]");for(var T=0,ab;ab=Y[T];T++){var P=ab.getAttribute(a),ac=S[P];if(ac){if(ac[u]){for(var Z=0,W;W=ab[s][Z];Z++){ac[z](W.nodeName,W.nodeValue)}if(!ac[k].length){for(var X=0,Q=ab[k];X<Q.length;X++){ac[t](Q[X--])}}ab[l][E](ac,ab)}else{if(typeof elem!="object"){var aa=ac;ac=ab;ac[L]=aa}}}}for(var R in S){var ac=S[R];ac[u]?ac.removeAttribute(a):null}return af}var A={build:function(){return D.call(this,arguments[0],arguments[1],arguments.callee._data)}};function D(Q,U,P){var X=null,P=P||{};if(typeof U=="string"){X=q(U,P,{helpers:A})}else{if(U instanceof Array){X=Q=Q||e[J]();for(var R=0,W;W=U[R];R++){Q[t](D.call(this,null,W,P))}}else{if(typeof U=="object"){var S=Q||U[F];X=(function(){if(typeof S=="string"){var Y=q(S,P,{helpers:A,tokens:C})[k];if(Y.length==1&&Y[0][u]==1){return Y[0]}else{throw ("property 'element' must evaluate to a single dom element")}}else{if(typeof S=="object"&&S[u]){return S}}return null})()||e[N](U.nodeName||U.tagName||r);Q=X;var V=U[g];for(var T in U[s]){Q[z](b(T),n(U[s][T],P))}if(U[k]){D.call(this,Q,U[k],P)}j(Q,U,P);if(V){X=Q=I(Q,D.call(this,null,V,P))}}}}return X}var p=[];function B(R){for(var Q=0,T;T=p[Q];Q++){if(T[F]==R){p.splice(Q--,1);for(var P=0,S;S=T.markup[P];P++){S[l][E](R,S)}break}}}function w(U,X,T){T=T||{};B.call(this,U);var V=U.cloneNode(),W=U[l],R=V;W?W[G](V,U):null;var Z=X[k];if(typeof X=="object"&&!(X instanceof Array)&&(!Z||Z.length==1)){X[F]=U}T[F]=T[F]||U;var aa=D.call(this,null,X,T);var Q=[],Y=aa[k];for(var S=0,P;P=Y[S];S++){Q[f](P)}p[f]({element:U,markup:Q});if(R){R[l][E](aa,R)}return aa}function M(){}M.prototype={render:function(Q,R,U){var T=typeof Q==K?e[d](Q):Q instanceof Array?Q:[Q];for(var P=0,S;S=T[P];P++){w.call(this,S,R,U)}return T},clean:function(P){B.call(this,P)},helpers:A};function b(P){return P[O](/\W+/g,"-")[O](/([a-z\d])([A-Z])/g,"$1-$2")}function h(Q){if(typeof Q!="string"){return Q}var S,R=e[N](r),P=e[J]();R[L]=Q;while(S=R[y]){P[t](S)}return P}function j(Q,R,T){for(var P in R){if(!!([F,s,m,k,g].indexOf(P)+1)){continue}var S=R[P];typeof S==o&&!S[u]?arguments.callee(Q[P]||{},S,T):Q[P]=typeof S==K?n(S,T,{helpers:A,tokens:S.indexOf(c.start)>=0?c:C}):S}return Q}function I(P,S){if(!S){return P}var Q=P[l],R=P.nextSibling;S=S[u]===11?S[y]:S;S[t](P);if(Q){Q[G](S,R)}return S}function i(T,S,P){S=S||"",P=P||{};for(var R in T){var Q=T[R],U=S?S+"["+R+"]":R;if(typeof Q=="undefined"||Q==null){continue}P[U]=Q;if(typeof Q==o&&!Q.outerHTML){i(Q,U,P)}}return P}if($=jQuery){$.fn.render=$.fn.render||function(P,Q){return this.each(function(){H.mugine.render(this,P,Q);return $(this)})}}H.Mugine=H.Mugine||M;H.mugine=H.mugine||new M();return M})();